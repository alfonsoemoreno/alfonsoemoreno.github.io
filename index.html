<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alfonso Moreno · Software Engineer</title>
    <meta
      name="description"
      content="Alfonso Moreno — Software Engineer. Arquitectura backend, datos/performance, multi-tenant y sincronización offline-first."
    />
    <meta name="robots" content="index,follow" />
    <meta name="author" content="Alfonso Moreno" />
    <meta name="theme-color" content="#0b0f14" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Alfonso Moreno · Software Engineer" />
    <meta
      name="twitter:description"
      content="Arquitectura backend, datos/performance, multi-tenant y sincronización offline-first."
    />
    <meta name="twitter:image" content="/assets/projects/egresos-app.webp" />
    <meta property="og:title" content="Alfonso Moreno · Software Engineer" />
    <meta
      property="og:description"
      content="Arquitectura backend, datos/performance, multi-tenant y sincronización offline-first."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:site_name"
      content="Alfonso Moreno · Software Engineer"
    />
    <meta property="og:locale" content="es_CL" />
    <meta property="og:locale:alternate" content="en_US" />
    <meta property="og:image" content="/assets/projects/egresos-app.webp" />
    <meta property="og:image:type" content="image/webp" />
    <meta
      property="og:image:alt"
      content="Captura de un proyecto de Alfonso Moreno"
    />

    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="./styles.css" />

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Alfonso Moreno",
        "jobTitle": "Software Engineer",
        "description": "Arquitectura backend, datos/performance, multi-tenant y offline-first.",
        "url": "https://github.com/alfonsoemoreno",
        "image": "/assets/projects/egresos-app.webp",
        "sameAs": [
          "https://github.com/alfonsoemoreno",
          "https://www.linkedin.com/in/alfonsoemoreno/"
        ],
        "knowsAbout": [
          "Backend architecture",
          "Distributed systems",
          "Data modeling",
          "Performance optimization",
          "Multi-tenant",
          "Offline-first"
        ],
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "CL"
        }
      }
    </script>

    <script>
      // Toggle theme (dark/light) with persistence
      (function () {
        const stored = localStorage.getItem("theme");
        if (stored === "light")
          document.documentElement.dataset.theme = "light";
      })();
    </script>
  </head>

  <body>
    <a class="skip-link" href="#main" data-i18n="skip-link">Saltar al contenido</a>

    <header class="header">
      <div class="container header__inner">
        <a
          class="brand"
          href="#top"
          aria-label="Inicio"
          data-i18n="brand-label"
        >
          <span class="brand__dot"></span>
          <span>Alfonso Moreno</span>
        </a>

        <button
          id="navToggle"
          class="nav-toggle"
          type="button"
          aria-label="Abrir menú"
          aria-expanded="false"
          aria-controls="primaryNav"
          data-i18n="nav-toggle-label"
        >
          <span class="nav-toggle__icon" aria-hidden="true"></span>
          <span data-i18n="nav-toggle-text">Menú</span>
        </button>

        <nav
          class="nav"
          aria-label="Navegación principal"
          data-i18n="nav-label"
          id="primaryNav"
        >
          <a href="#about" data-i18n="nav-about">Sobre mí</a>
          <a href="#work" data-i18n="nav-work">Lo que hago</a>
          <a href="#projects" data-i18n="nav-projects">Proyectos</a>
          <a href="#contact" data-i18n="nav-contact">Contacto</a>
          <select
            id="langSelect"
            class="lang-select"
            aria-label="Seleccionar idioma"
            data-i18n="lang-select-label"
          >
            <option value="es">ES</option>
            <option value="en">EN</option>
          </select>
          <button
            id="themeBtn"
            class="btn btn--ghost"
            type="button"
            aria-label="Cambiar tema"
            data-i18n="theme-btn"
          >
            <span class="btn__icon" aria-hidden="true">◐</span>
            <span data-i18n="theme-text">Tema</span>
          </button>
        </nav>
        <div id="navBackdrop" class="nav-backdrop" hidden></div>
      </div>
    </header>

    <main id="main">
      <section id="top" class="hero">
        <div class="container">
          <div class="hero__grid">
            <div>
              <p class="eyebrow" data-i18n="hero-eyebrow">
                Software Engineer · Arquitectura Backend · Sistemas Distribuidos
              </p>
              <h1 class="hero__title" data-i18n="hero-title">
                Construyo software real: escalable, mantenible y rápido.
              </h1>
              <p class="hero__subtitle" data-i18n="hero-subtitle">
                Foco en <strong>datos</strong>, <strong>performance</strong>,
                <strong>multi-tenant</strong> y <strong>offline-first</strong>,
                con decisiones técnicas que resisten el tiempo.
              </p>

              <div class="hero__cta">
                <a
                  class="btn btn--primary"
                  href="https://github.com/alfonsoemoreno"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="cta-github"
                >
                  GitHub
                </a>
                <a
                  class="btn btn--secondary"
                  href="https://www.linkedin.com/in/alfonsoemoreno/"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="cta-linkedin"
                >
                  LinkedIn
                </a>
                <a
                  class="btn btn--ghost"
                  href="mailto:alfonso.moreno@me.com"
                  data-i18n="cta-email"
                >
                  Correo
                </a>
              </div>

              <div class="hero__meta">
                <div class="pill" data-i18n="pill-location">Chile (remoto)</div>
                <div class="pill" data-i18n="pill-role">
                  Backend · Data · DevOps
                </div>
                <div class="pill" data-i18n="pill-stack">
                  Next.js · Node · PostgreSQL
                </div>
              </div>
            </div>

            <aside aria-label="Resumen" data-i18n="summary-label">
              <div class="card">
                <h2 class="card__title" data-i18n="summary-title">Resumen</h2>
                <p class="card__text" data-i18n="summary-text">
                  Me especializo en modelado de datos, optimización de consultas
                  y arquitectura de servicios. Me gusta la ingeniería
                  pragmática: claridad, documentación y ejecución sólida.
                </p>

                <div class="card__links" role="list">
                  <a
                    role="listitem"
                    href="https://github.com/alfonsoemoreno"
                    target="_blank"
                    rel="noreferrer"
                  >
                    github.com/alfonsoemoreno
                  </a>
                  <a
                    role="listitem"
                    href="https://www.linkedin.com/in/alfonsoemoreno/"
                    target="_blank"
                    rel="noreferrer"
                  >
                    linkedin.com/in/alfonsoemoreno
                  </a>
                  <a role="listitem" href="mailto:alfonso.moreno@me.com">
                    alfonso.moreno@me.com
                  </a>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </section>

      <section id="about" class="section">
        <div class="container">
          <div class="section__head">
            <h2 data-i18n="about-title">Sobre mí</h2>
            <p data-i18n="about-text">
              Ingeniero de software con experiencia construyendo sistemas en
              producción, desde monolitos hasta microservicios. Especializado en
              <strong>multi-tenant</strong>,
              <strong>búsqueda eficiente</strong>,
              <strong>offline-first</strong> y <strong>performance</strong>.
            </p>
          </div>

          <div class="grid grid--2">
            <div class="card">
              <h3 class="card__title" data-i18n="workhow-title">
                Cómo trabajo
              </h3>
              <p class="card__text" data-i18n="workhow-text">
                Prefiero sistemas entendibles a soluciones “mágicas”. Diseño con
                intención: dominio claro, contratos estables, índices correctos,
                y despliegues repetibles. La IA es una herramienta, no un
                reemplazo del criterio.
              </p>
            </div>

            <div class="card">
              <h3 class="card__title" data-i18n="workseek-title">Qué busco</h3>
              <p class="card__text" data-i18n="workseek-text">
                Proyectos donde la arquitectura y los datos importen: productos
                con trazabilidad, performance real, sincronización, o equipos
                que necesiten orden técnico para escalar sin romperse.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="work" class="section">
        <div class="container">
          <div class="section__head">
            <h2 data-i18n="work-title">Lo que hago</h2>
            <p data-i18n="work-text">
              Áreas donde aporto más valor: decisiones técnicas, datos y
              ejecución en producción.
            </p>
          </div>

          <div class="grid grid--4">
            <div class="card">
              <h3 class="card__title" data-i18n="card-arch-title">
                Arquitectura & Backend
              </h3>
              <p class="card__text" data-i18n="card-arch-text">
                APIs, microservicios, gateways, autenticación, diseño orientado
                a dominio y decisiones que escalan.
              </p>
            </div>

            <div class="card">
              <h3 class="card__title" data-i18n="card-data-title">
                Datos & Performance
              </h3>
              <p class="card__text" data-i18n="card-data-text">
                PostgreSQL/MariaDB/SQLite, índices, optimización de queries,
                búsqueda full-text y migraciones seguras.
              </p>
            </div>

            <div class="card">
              <h3 class="card__title" data-i18n="card-frontend-title">
                Frontend aplicado
              </h3>
              <p class="card__text" data-i18n="card-frontend-text">
                Next.js/React para productos reales: SSR/estático, UI
                pragmática, herramientas internas y flujos claros.
              </p>
            </div>

            <div class="card">
              <h3 class="card__title" data-i18n="card-devops-title">
                DevOps pragmático
              </h3>
              <p class="card__text" data-i18n="card-devops-text">
                Docker, Kubernetes, PM2, jobs/colas y despliegues simples con
                observabilidad suficiente.
              </p>
            </div>
          </div>

          <div class="stack">
            <h3 class="stack__title" data-i18n="stack-title">Stack habitual</h3>
            <div class="stack__chips">
              <span class="chip">Node.js</span>
              <span class="chip">NestJS</span>
              <span class="chip">SailsJS</span>
              <span class="chip">Next.js</span>
              <span class="chip">React</span>
              <span class="chip">PostgreSQL</span>
              <span class="chip">MariaDB</span>
              <span class="chip">SQLite</span>
              <span class="chip">RxDB</span>
              <span class="chip">Redis</span>
              <span class="chip">Docker</span>
              <span class="chip">Kubernetes</span>
              <span class="chip">PM2</span>
              <span class="chip">TypeORM</span>
            </div>
          </div>
        </div>
      </section>
      <section id="projects" class="section">
        <div class="container">
          <div class="section__head">
            <h2 data-i18n="projects-title">Proyectos personales</h2>
            <p data-i18n="projects-text">
              Proyectos propios con demo en producción, enfocados en experiencia
              de usuario, estructura de datos y ejecución real.
            </p>
          </div>

          <div class="grid grid--3">
            <!-- egresos-app -->
            <article class="card project-card">
              <button
                class="project-thumb"
                type="button"
                data-open="dlg-egresos-app"
                aria-label="Abrir imagen egresos-app"
                data-i18n="aria-egresos-open"
              >
                <div class="project-media">
                  <img
                    src="./assets/projects/egresos-app.webp"
                    alt="egresos-app screenshot"
                    loading="lazy"
                    class="project-image"
                  />
                </div>
              </button>

              <h3 class="card__title" data-i18n="egresos-title">
                egresos-app
              </h3>
              <p class="card__text" data-i18n="egresos-text">
                Aplicación para control de egresos personales, enfocada en
                claridad visual, orden y estructura de datos.
              </p>

              <div class="card__footer">
                <span class="tag" data-i18n="tag-finanzas">finanzas</span>
                <span class="tag" data-i18n="tag-frontend">frontend</span>
                <span class="tag" data-i18n="tag-datos">datos</span>
              </div>

              <p class="project-links">
                <a
                  href="https://egresos-app.vercel.app"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="project-demo"
                  >Demo →</a
                >
                <span class="dot">•</span>
                <a
                  href="https://github.com/alfonsoemoreno/egresos-app"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="project-repo"
                  >Repo →</a
                >
              </p>
            </article>

            <!-- pet-game -->
            <article class="card project-card">
              <button
                class="project-thumb"
                type="button"
                data-open="dlg-pet-game"
                aria-label="Abrir imagen pet-game"
                data-i18n="aria-pet-open"
              >
                <div class="project-media">
                  <img
                    src="./assets/projects/ositodeemilia.webp"
                    alt="pet-game screenshot"
                    loading="lazy"
                    class="project-image"
                  />
                </div>
              </button>

              <h3 class="card__title" data-i18n="pet-title">pet-game</h3>
              <p class="card__text" data-i18n="pet-text">
                Juego experimental con mecánicas simples y progresión.
                Laboratorio de lógica de estado y feedback visual.
              </p>

              <div class="card__footer">
                <span class="tag" data-i18n="tag-game">game</span>
                <span class="tag" data-i18n="tag-estado">estado</span>
                <span class="tag" data-i18n="tag-ux">UX</span>
              </div>

              <p class="project-links">
                <a
                  href="https://ositodeemilia.vercel.app"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="project-demo"
                  >Demo →</a
                >
                <span class="dot">•</span>
                <a
                  href="https://github.com/alfonsoemoreno/pet-game"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="project-repo"
                  >Repo →</a
                >
              </p>
            </article>

            <!-- ponchister -->
            <article class="card project-card">
              <button
                class="project-thumb"
                type="button"
                data-open="dlg-ponchister"
                aria-label="Abrir imagen Ponchister"
                data-i18n="aria-ponch-open"
              >
                <div class="project-media">
                  <img
                    src="./assets/projects/ponchister.webp"
                    alt="Ponchister screenshot"
                    loading="lazy"
                    class="project-image"
                  />
                </div>
              </button>

              <h3 class="card__title" data-i18n="ponch-title">Ponchister</h3>
              <p class="card__text" data-i18n="ponch-text">
                Experiencia interactiva inspirada en juegos musicales. Enfoque
                en flujo, sincronización y experiencia multiplataforma.
              </p>

              <div class="card__footer">
                <span class="tag" data-i18n="tag-musica">música</span>
                <span class="tag" data-i18n="tag-interactivo">interactivo</span>
                <span class="tag">Next.js</span>
              </div>

              <p class="project-links">
                <a
                  href="https://ponchistergame.vercel.app"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="project-demo"
                  >Demo →</a
                >
                <span class="dot">•</span>
                <a
                  href="https://github.com/alfonsoemoreno/ponchister"
                  target="_blank"
                  rel="noreferrer"
                  data-i18n="project-repo"
                  >Repo →</a
                >
              </p>
            </article>
          </div>
        </div>
      </section>
      <section id="contact" class="section section--tight">
        <div class="container">
          <div class="contact">
            <div>
              <h2 data-i18n="contact-title">Contacto</h2>
              <p data-i18n="contact-text">
                Si tienes un proyecto que necesita orden, performance y una
                arquitectura sana, feliz de ayudar.
              </p>
            </div>

            <div class="contact__actions">
              <a
                class="btn btn--primary"
                href="mailto:alfonso.moreno@me.com"
                data-i18n="contact-email"
                >Escríbeme</a
              >
              <a
                class="btn btn--secondary"
                href="https://www.linkedin.com/in/alfonsoemoreno/"
                target="_blank"
                rel="noreferrer"
                data-i18n="contact-linkedin"
              >
                LinkedIn
              </a>
              <a
                class="btn btn--ghost"
                href="https://github.com/alfonsoemoreno"
                target="_blank"
                rel="noreferrer"
                data-i18n="contact-github"
              >
                GitHub
              </a>
            </div>
          </div>

          <footer class="footer">
            <p data-i18n="footer-text">
              © <span id="year"></span> Alfonso Moreno · Hecho con HTML/CSS —
              sin frameworks.
            </p>
          </footer>
        </div>
      </section>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
      const translations = {
        es: {
          "skip-link": "Saltar al contenido",
          "brand-label": { attrs: { "aria-label": "Inicio" } },
          "nav-label": { attrs: { "aria-label": "Navegación principal" } },
          "nav-about": "Sobre mí",
          "nav-work": "Lo que hago",
          "nav-projects": "Proyectos",
          "nav-contact": "Contacto",
          "nav-toggle-label": { attrs: { "aria-label": "Abrir menú" } },
          "nav-toggle-text": "Menú",
          "nav-toggle-open": "Abrir menú",
          "nav-toggle-close": "Cerrar menú",
          "lang-select-label": { attrs: { "aria-label": "Seleccionar idioma" } },
          "theme-btn": { attrs: { "aria-label": "Cambiar tema" } },
          "theme-text": "Tema",
          "hero-eyebrow":
            "Software Engineer · Arquitectura Backend · Sistemas Distribuidos",
          "hero-title": "Construyo software real: escalable, mantenible y rápido.",
          "hero-subtitle":
            "Foco en <strong>datos</strong>, <strong>performance</strong>, <strong>multi-tenant</strong> y <strong>offline-first</strong>, con decisiones técnicas que resisten el tiempo.",
          "cta-github": "GitHub",
          "cta-linkedin": "LinkedIn",
          "cta-email": "Correo",
          "pill-location": "Chile (remoto)",
          "pill-role": "Backend · Data · DevOps",
          "pill-stack": "Next.js · Node · PostgreSQL",
          "summary-label": { attrs: { "aria-label": "Resumen" } },
          "summary-title": "Resumen",
          "summary-text":
            "Me especializo en modelado de datos, optimización de consultas y arquitectura de servicios. Me gusta la ingeniería pragmática: claridad, documentación y ejecución sólida.",
          "about-title": "Sobre mí",
          "about-text":
            "Ingeniero de software con experiencia construyendo sistemas en producción, desde monolitos hasta microservicios. Especializado en <strong>multi-tenant</strong>, <strong>búsqueda eficiente</strong>, <strong>offline-first</strong> y <strong>performance</strong>.",
          "workhow-title": "Cómo trabajo",
          "workhow-text":
            "Prefiero sistemas entendibles a soluciones “mágicas”. Diseño con intención: dominio claro, contratos estables, índices correctos, y despliegues repetibles. La IA es una herramienta, no un reemplazo del criterio.",
          "workseek-title": "Qué busco",
          "workseek-text":
            "Proyectos donde la arquitectura y los datos importen: productos con trazabilidad, performance real, sincronización, o equipos que necesiten orden técnico para escalar sin romperse.",
          "work-title": "Lo que hago",
          "work-text":
            "Áreas donde aporto más valor: decisiones técnicas, datos y ejecución en producción.",
          "card-arch-title": "Arquitectura & Backend",
          "card-arch-text":
            "APIs, microservicios, gateways, autenticación, diseño orientado a dominio y decisiones que escalan.",
          "card-data-title": "Datos & Performance",
          "card-data-text":
            "PostgreSQL/MariaDB/SQLite, índices, optimización de queries, búsqueda full-text y migraciones seguras.",
          "card-frontend-title": "Frontend aplicado",
          "card-frontend-text":
            "Next.js/React para productos reales: SSR/estático, UI pragmática, herramientas internas y flujos claros.",
          "card-devops-title": "DevOps pragmático",
          "card-devops-text":
            "Docker, Kubernetes, PM2, jobs/colas y despliegues simples con observabilidad suficiente.",
          "stack-title": "Stack habitual",
          "projects-title": "Proyectos personales",
          "projects-text":
            "Proyectos propios con demo en producción, enfocados en experiencia de usuario, estructura de datos y ejecución real.",
          "egresos-title": "egresos-app",
          "egresos-text":
            "Aplicación para control de egresos personales, enfocada en claridad visual, orden y estructura de datos.",
          "pet-title": "pet-game",
          "pet-text":
            "Juego experimental con mecánicas simples y progresión. Laboratorio de lógica de estado y feedback visual.",
          "ponch-title": "Ponchister",
          "ponch-text":
            "Experiencia interactiva inspirada en juegos musicales. Enfoque en flujo, sincronización y experiencia multiplataforma.",
          "tag-finanzas": "finanzas",
          "tag-frontend": "frontend",
          "tag-datos": "datos",
          "tag-game": "game",
          "tag-estado": "estado",
          "tag-ux": "UX",
          "tag-musica": "música",
          "tag-interactivo": "interactivo",
          "project-demo": "Demo →",
          "project-repo": "Repo →",
          "contact-title": "Contacto",
          "contact-text":
            "Si tienes un proyecto que necesita orden, performance y una arquitectura sana, feliz de ayudar.",
          "contact-email": "Escríbeme",
          "contact-linkedin": "LinkedIn",
          "contact-github": "GitHub",
          "footer-text":
            "© <span id=\"year\"></span> Alfonso Moreno · Hecho con HTML/CSS — sin frameworks.",
          "aria-egresos-open": {
            attrs: { "aria-label": "Abrir imagen egresos-app" },
          },
          "aria-pet-open": {
            attrs: { "aria-label": "Abrir imagen pet-game" },
          },
          "aria-ponch-open": {
            attrs: { "aria-label": "Abrir imagen Ponchister" },
          },
          "dlg-egresos-label": {
            attrs: { "aria-label": "Vista ampliada egresos-app" },
          },
          "dlg-pet-label": {
            attrs: { "aria-label": "Vista ampliada pet-game" },
          },
          "dlg-ponch-label": {
            attrs: { "aria-label": "Vista ampliada ponchister" },
          },
          "dlg-close": { attrs: { "aria-label": "Cerrar" } },
        },
        en: {
          "skip-link": "Skip to content",
          "brand-label": { attrs: { "aria-label": "Home" } },
          "nav-label": { attrs: { "aria-label": "Main navigation" } },
          "nav-about": "About",
          "nav-work": "What I do",
          "nav-projects": "Projects",
          "nav-contact": "Contact",
          "nav-toggle-label": { attrs: { "aria-label": "Open menu" } },
          "nav-toggle-text": "Menu",
          "nav-toggle-open": "Open menu",
          "nav-toggle-close": "Close menu",
          "lang-select-label": { attrs: { "aria-label": "Choose language" } },
          "theme-btn": { attrs: { "aria-label": "Toggle theme" } },
          "theme-text": "Theme",
          "hero-eyebrow":
            "Software Engineer · Backend Architecture · Distributed Systems",
          "hero-title":
            "I build real software: scalable, maintainable, and fast.",
          "hero-subtitle":
            "Focused on <strong>data</strong>, <strong>performance</strong>, <strong>multi-tenant</strong>, and <strong>offline-first</strong> decisions that stand the test of time.",
          "cta-github": "GitHub",
          "cta-linkedin": "LinkedIn",
          "cta-email": "Email me",
          "pill-location": "Chile (remote)",
          "pill-role": "Backend · Data · DevOps",
          "pill-stack": "Next.js · Node · PostgreSQL",
          "summary-label": { attrs: { "aria-label": "Summary" } },
          "summary-title": "Summary",
          "summary-text":
            "I specialize in data modeling, query optimization, and service architecture. Pragmatic engineering: clarity, documentation, and solid execution.",
          "about-title": "About me",
          "about-text":
            "Software engineer with experience building production systems, from monoliths to microservices. Specialized in <strong>multi-tenant</strong>, <strong>efficient search</strong>, <strong>offline-first</strong>, and <strong>performance</strong>.",
          "workhow-title": "How I work",
          "workhow-text":
            "I prefer understandable systems over “magic” solutions. I design with intent: clear domains, stable contracts, proper indexes, and repeatable deployments. AI is a tool, not a replacement for judgment.",
          "workseek-title": "What I look for",
          "workseek-text":
            "Projects where architecture and data matter: products with traceability, real performance, sync, or teams that need technical order to scale without breaking.",
          "work-title": "What I do",
          "work-text":
            "Where I add the most value: technical decisions, data, and production execution.",
          "card-arch-title": "Architecture & Backend",
          "card-arch-text":
            "APIs, microservices, gateways, authentication, domain-driven design, and decisions that scale.",
          "card-data-title": "Data & Performance",
          "card-data-text":
            "PostgreSQL/MariaDB/SQLite, indexes, query optimization, full-text search, and safe migrations.",
          "card-frontend-title": "Practical frontend",
          "card-frontend-text":
            "Next.js/React for real products: SSR/static, pragmatic UI, internal tools, and clear flows.",
          "card-devops-title": "Pragmatic DevOps",
          "card-devops-text":
            "Docker, Kubernetes, PM2, jobs/queues, and simple deployments with enough observability.",
          "stack-title": "Usual stack",
          "projects-title": "Personal projects",
          "projects-text":
            "Personal projects with live demos, focused on UX, data structure, and real execution.",
          "egresos-title": "egresos-app",
          "egresos-text":
            "Personal expense tracker focused on clarity, order, and data structure.",
          "pet-title": "pet-game",
          "pet-text":
            "Experimental game with simple mechanics and progression. A playground for state logic and visual feedback.",
          "ponch-title": "Ponchister",
          "ponch-text":
            "Interactive experience inspired by rhythm games. Focus on flow, sync, and multiplatform experience.",
          "tag-finanzas": "finance",
          "tag-frontend": "frontend",
          "tag-datos": "data",
          "tag-game": "game",
          "tag-estado": "state",
          "tag-ux": "UX",
          "tag-musica": "music",
          "tag-interactivo": "interactive",
          "project-demo": "Live →",
          "project-repo": "Code →",
          "contact-title": "Contact",
          "contact-text":
            "If you have a project that needs order, performance, and healthy architecture, happy to help.",
          "contact-email": "Email me",
          "contact-linkedin": "LinkedIn",
          "contact-github": "GitHub",
          "footer-text":
            "© <span id=\"year\"></span> Alfonso Moreno · Built with HTML/CSS — no frameworks.",
          "aria-egresos-open": {
            attrs: { "aria-label": "Open egresos-app image" },
          },
          "aria-pet-open": {
            attrs: { "aria-label": "Open pet-game image" },
          },
          "aria-ponch-open": {
            attrs: { "aria-label": "Open Ponchister image" },
          },
          "dlg-egresos-label": {
            attrs: { "aria-label": "Expanded view egresos-app" },
          },
          "dlg-pet-label": {
            attrs: { "aria-label": "Expanded view pet-game" },
          },
          "dlg-ponch-label": {
            attrs: { "aria-label": "Expanded view Ponchister" },
          },
          "dlg-close": { attrs: { "aria-label": "Close" } },
        },
      };

      const supportedLangs = ["es", "en"];
      const langSelect = document.getElementById("langSelect");
      const navToggle = document.getElementById("navToggle");
      const nav = document.getElementById("primaryNav");
      const navBackdrop = document.getElementById("navBackdrop");

      const setYear = () => {
        const yearEl = document.getElementById("year");
        if (yearEl) yearEl.textContent = new Date().getFullYear();
      };

      const getDict = (lang) => translations[lang] || translations.es;

      const updateNavToggleLabel = (open, lang) => {
        if (!navToggle) return;
        const dict = getDict(lang);
        const labelKey = open ? "nav-toggle-close" : "nav-toggle-open";
        const labelEntry = dict[labelKey] || dict["nav-toggle-label"];
        const label =
          typeof labelEntry === "string"
            ? labelEntry
            : labelEntry?.attrs?.["aria-label"] || "";
        navToggle.setAttribute("aria-label", label);
        const textEntry = dict["nav-toggle-text"];
        const text =
          typeof textEntry === "string"
            ? textEntry
            : textEntry?.text || navToggle.textContent;
        const textEl = navToggle.querySelector(
          "[data-i18n='nav-toggle-text']"
        );
        if (textEl) textEl.textContent = text;
      };

      const setNavState = (open, lang) => {
        const activeLang = lang || document.documentElement.lang || "es";
        if (nav) nav.classList.toggle("nav--open", open);
        if (navBackdrop) {
          navBackdrop.hidden = !open;
          navBackdrop.classList.toggle("is-active", open);
        }
        document.body.classList.toggle("nav-open", open);
        if (navToggle) navToggle.setAttribute("aria-expanded", open);
        if (navToggle) navToggle.classList.toggle("is-active", open);
        updateNavToggleLabel(open, activeLang);
      };

      const applyTranslations = (lang) => {
        const dict = getDict(lang);
        document.documentElement.lang = lang;

        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.dataset.i18n;
          const entry = dict[key];
          if (!entry) return;

          if (typeof entry === "string") {
            el.innerHTML = entry;
          } else {
            if (entry.text !== undefined) el.innerHTML = entry.text;
            if (entry.attrs) {
              Object.entries(entry.attrs).forEach(([attr, value]) => {
                el.setAttribute(attr, value);
              });
            }
          }
        });

        setYear();
        setNavState(false, lang);
      };

      const storedLang = localStorage.getItem("lang");
      const initialLang = supportedLangs.includes(storedLang)
        ? storedLang
        : "es";

      applyTranslations(initialLang);

      if (langSelect) {
        langSelect.value = initialLang;
        langSelect.addEventListener("change", (event) => {
          const selected = event.target.value;
          const next = supportedLangs.includes(selected) ? selected : "es";
          applyTranslations(next);
          localStorage.setItem("lang", next);
        });
      }

      if (navToggle && nav) {
        navToggle.addEventListener("click", () => {
          const isOpen = nav.classList.contains("nav--open");
          setNavState(!isOpen);
        });

        nav.querySelectorAll("a").forEach((item) => {
          item.addEventListener("click", () => setNavState(false));
        });
      }

      if (navBackdrop) {
        navBackdrop.addEventListener("click", () => setNavState(false));
      }

      window.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          const open = nav?.classList.contains("nav--open");
          if (open) setNavState(false);
        }
      });

      // Theme toggle
      const themeBtn = document.getElementById("themeBtn");
      themeBtn.addEventListener("click", () => {
        const current = document.documentElement.dataset.theme;
        const next = current === "light" ? "dark" : "light";
        if (next === "light") document.documentElement.dataset.theme = "light";
        else document.documentElement.removeAttribute("data-theme");
        localStorage.setItem("theme", next);
      });

      // Dialog lightbox (minimal)
      const openButtons = document.querySelectorAll("[data-open]");
      const closeButtons = document.querySelectorAll(
        "dialog .dlg__close, dialog [data-close]"
      );

      openButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const id = btn.getAttribute("data-open");
          const dlg = document.getElementById(id);
          if (dlg && typeof dlg.showModal === "function") dlg.showModal();
        });
      });

      // Close on close button
      closeButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const dlg = btn.closest("dialog");
          if (dlg) dlg.close();
        });
      });

      // Close when clicking outside content
      document.querySelectorAll("dialog.dlg").forEach((dlg) => {
        dlg.addEventListener("click", (e) => {
          const rect = dlg.getBoundingClientRect();
          const clickedInDialog =
            e.clientX >= rect.left &&
            e.clientX <= rect.right &&
            e.clientY >= rect.top &&
            e.clientY <= rect.bottom;

          // If click is on backdrop area, close
          if (!clickedInDialog) dlg.close();
        });
      });
      });
    </script>
    <dialog
      id="dlg-egresos-app"
      class="dlg"
      aria-label="Vista ampliada egresos-app"
      data-i18n="dlg-egresos-label"
    >
      <button
        class="dlg__close"
        type="button"
        data-close
        aria-label="Cerrar"
        data-i18n="dlg-close"
      >
        ✕
      </button>
      <img
        src="./assets/projects/egresos-app.webp"
        alt="egresos-app screenshot"
      />
    </dialog>

    <dialog
      id="dlg-pet-game"
      class="dlg"
      aria-label="Vista ampliada pet-game"
      data-i18n="dlg-pet-label"
    >
      <button
        class="dlg__close"
        type="button"
        data-close
        aria-label="Cerrar"
        data-i18n="dlg-close"
      >
        ✕
      </button>
      <img
        src="./assets/projects/ositodeemilia.webp"
        alt="pet-game screenshot"
      />
    </dialog>

    <dialog
      id="dlg-ponchister"
      class="dlg"
      aria-label="Vista ampliada ponchister"
      data-i18n="dlg-ponch-label"
    >
      <button
        class="dlg__close"
        type="button"
        data-close
        aria-label="Cerrar"
        data-i18n="dlg-close"
      >
        ✕
      </button>
      <img
        src="./assets/projects/ponchister.webp"
        alt="Ponchister screenshot"
      />
    </dialog>
  </body>
</html>
